## HTML知识点

### 什么是 HTML 语义化
- 直观的认识标签，方便其他开发者维护
- 搜索引擎的爬虫依赖于 HTML 标记来确定上下文和各个关键字的权重，方便 seo
- 代码结构清晰，易于阅读，有利于维护

### script标签中的属性 async和 defer的区别
- script 会阻碍 HTML 解析，只有下载好并执行完脚本才会继续解析 HTML
- async 解析 HTML 的过程中会进行脚本的异步下载，下载成功后立马执行，因此有可能会阻断 Html 的解析。多个脚本的执行顺序无法保证
- defer 也是异步下载脚本，加载完成后，如果此时 HTML还没解析完，浏览器不会暂停解析去执行 js 代码，而是等待 HTML 解析完毕后再执行 js 代码，如果存在多个 defer script 标签，浏览器（ie9 及以下除外）会保证他们按照在 HTML 中出现的顺序执行，不会破坏 js 脚本之间的依赖关系，简单理解，就是等 html 加载完后在加载 js 脚本

### DOCTYPE 的作用是什么？
- <!DOCTYE> 声明一般位于文档的第一行，它的作用主要是告诉浏览器以什么样的模式来解析文档。一般指定了之后会以“标准模式”进行文档解析，否则就以“兼容模式”进行解析。
- 在标准模式下，浏览器的解析规则都是按照最新的标准进行解析的。
- 而在兼容模式下，浏览器会以向后兼容的方式来模拟老式浏览器的行为，以保证一些老的网站能正常访问。

### SGML、HTML、XML 和 XHTML的区别
- SGML 是标准通用标记语言，是一种定义电子文档结构和描述其内容的国际标准语言，是所有电子文档标记语言的起源。
- HTML 是超文本标记语言，主要是用于规定怎样显示网页。
- XML 是可扩展标记语言，是未来网页语言的发展方向，XML 和 HTML 的最大区别就在于 XML 的标签是可以自己创建的，数量无限多，而 HTML 的标签都是固定的而且数量有限。
- XHTML 也是现在基本上所有网页都在用的标记语言，他其实和 HTML 没什么本质的区别，标签都一样，用法也都一样，就是比 HTML 更严格，比如标签必须都用小写，标签都必须有闭合标签等。

### HTML5 有哪些新特性、移除了哪些元素？
```
HTML5 现在已经不是 SGML 的子集，主要是关于图像、位置、存储、多任务等功能的增加。
```
新增的：
- canvas
- video
- audio
- localStorage
- sessionStorage
- 语义化更好的元素：header、article、nav、section、footer
- 表单控件：calendar、date、time、email、url、search
- 新的技术：webworker, websocket, Geolocation
- 新的文档属性：documet.visibilityState

移除的：
- 纯表现的元素：basefont、big、center、font、s、strike、tt、u
- 对可用性产生负面影响的元素：frame、frameset、noframes

### 对浏览器内核的理解
- 主要分成两部分：渲染引擎(layout engineer或Rendering Engine)和JS引擎。
- 渲染引擎：其职责就是渲染，即在浏览器窗口中显示所请求的内容。默认情况下，渲染引擎可以显示 HTML、 XML 文档及图片，它也可以借助一些浏览器扩展插件显示其他类型数据，如：使用PDF阅读器插件可以显示 PDF 格式。
- JS引擎：解析和执行 JavaScript 来实现网页的动态效果。

### 常见的浏览器内核有哪些？
- Trident内核：IE,MaxThon,TT,The World,360,搜狗浏览器等。[又称MSHTML]
- Gecko内核：Netscape6及以上版本，FF,MozillaSuite/SeaMonkey等
- Presto内核：Opera7及以上。 [Opera内核原为：Presto，现为：Blink;]
- Webkit内核：Safari,Chrome等。 [ Chrome的：Blink（WebKit的分支）]

### 什么是文档的预解析？
```
当执行 JavaScript 脚本时，另一个线程解析剩下的文档，并加载后面需要通过网络加载的资源。这种方式可以使资源并行加载，从而使整体速度更快。
需要注意的是，预解析并不改变DOM树，它将这个工作交给主解析过程，自己只解析外部资源的引用，比如：外部脚本、样式及图片。
```
### 浏览器的渲染原理
```
生成 DOM 树-->生成 css 规则树-->构建渲染树-->布局（回流）-->绘制
```

### 重排（回流）和重绘
概念：
- 回流：当 DOM 的变化影响了元素的几何信息，浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置，这个过程叫做回流（也可以叫做重排）。表现为重新生成布局，重新排列元素。
- 重绘：当一个元素的外观发生改变，重新把元素外观绘制出来的过程，叫做重绘。表现为某些元素的外观被改变。

常见引起回流和重绘的属性和方法：
- 任何会改变元素几何信息（元素的位置和尺寸大小）的操作都会触发回流。
- 添加或删除可见的 DOM 元素
- 元素尺寸改变--边距、填充、宽度、高度
- 浏览器尺寸改变-- resize 事件发生时
- 计算 offsetWidth 和 offsetHeight 属性
- 设置 style 属性的值
- 修改网页默认字体
  
注意：
- 回流必定会发生重绘，重绘不一定会引发回流。
- 回流所需的成本比重绘高得多

### 如何减少回流？
- 使用 transform 代替 top
- 不要把节点的属性值放在一个循环里，当成循环里的变量
- 不要使用 table 布局，可能很小的一个改动会造成整个 table 的重新布局
- 把 DOM 离线后修改。如：使用 documentFragment 对象在内存里操作 DOM
- 不要一条一条的修改样式，可以预先定义好 class，然后修改 DOM 的 className
- 使用 absolute 或 fixed 使元素脱离文档流

### sessionStorage，localStorage 和 cookie 的区别
#### 共同点：
- 都是保存在浏览器端，且同源的
#### 区别:
- cookie 始终在同源的 http 请求中携带（即使不需要），即 cookie 在浏览器和服务器之间来回传递；而 sessionStorage 和 localStorage 不会自动把数据发送到服务器，仅在本地保存。cookie 还有路径（path）的概念，可以限制 cookie 只属于某个路径下。
存储大小限制不同。cookie 不能超过 4K，因为每次 http 请求都会携带 cookie，所以 cookie 只适合保存很小的数据，如：会话标识。sessionStorage 和 localStorage 虽然也有存储大小限制，但比 cookie 大得多，可以达到 5M 或更大。
- 数据有效期不同。sessionStorage 仅在当前浏览器窗口关闭之前有效；localStorage 始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；cookie 只在设置的 cookie 过期时间之前有效。
- 作用域不同。sessionStorage 不在不同的浏览器窗口中共享，即使是同一个页面；localStorage 和 cookie 在所有同源窗口中都是共享的

### iframe 有哪些优缺点？
优点：
- iframe 能够原封不动的把嵌入的网页展现出来
- iframe 能够自适应包含的网页
- 如果有多个网页引用 iframe，那么只需要修改 iframe 中的内容，就可以实现调用多个页面的效果
  
缺点：
- iframe 会阻塞主页面的 Onload 事件
- iframe 和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载。使用 iframe之前需要考虑这两个缺点。如果需要使用 iframe，最好是通过 javascript 动态给 iframe 添加 src 属性值，这样可以可以绕开以上两个缺点。
- 不利于 seo
- 兼容性差
  
### 从浏览器地址栏输入 url 到请求返回发生了什么
- 浏览器根据请求的 url 生成一个 http 请求，并发出（输入 URL 后解析出协议、主机、端口、路径等信息，并构造一个 HTTP 请求）
- DNS 域名解析
- TCP连接 （三次握手）
- 服务器处理请求并返回 HTTP 报文
- 浏览器解析渲染页面
- TCP 断开 （四次挥手）
  
### 三次握手和四次挥手
```
三次握手（Three-Way Handshake）和四次挥手（Four-Way Handshake）是TCP（Transmission Control Protocol）协议用于建立和断开连接的过程中的基本步骤。
```
1. **三次握手（Three-Way Handshake）:**

   在建立TCP连接时，客户端和服务器之间进行三次握手，确保双方都同意建立连接。

   a. **第一步（客户端到服务器）：**
      - 客户端发送一个带有SYN（同步）标志的TCP报文段给服务器，表示请求建立连接。

   b. **第二步（服务器到客户端）：**
      - 服务器收到客户端的SYN报文段后，回复一个带有SYN和ACK（确认）标志的TCP报文段给客户端，表示同意建立连接。

   c. **第三步（客户端到服务器）：**
      - 客户端收到服务器的确认后，发送一个带有ACK标志的TCP报文段给服务器，表示连接建立成功。

   现在，双方都确认连接已建立，可以开始进行数据传输。

2. **四次挥手（Four-Way Handshake）:**

   在断开TCP连接时，客户端和服务器之间进行四次挥手，确保双方都知道连接已经关闭。

   a. **第一步（客户端到服务器）：**
      - 客户端发送一个带有FIN（结束）标志的TCP报文段给服务器，表示不再有数据要发送。

   b. **第二步（服务器到客户端）：**
      - 服务器收到客户端的FIN后，发送一个带有ACK标志的TCP报文段给客户端，确认收到关闭请求。

   c. **第三步（服务器到客户端）：**
      - 服务器发送一个带有FIN标志的TCP报文段给客户端，表示服务器也准备关闭连接。

   d. **第四步（客户端到服务器）：**
      - 客户端收到服务器的FIN后，发送一个带有ACK标志的TCP报文段给服务器，确认收到关闭请求。

   现在，双方都确认连接已关闭，可以释放资源。

这些步骤确保了连接的可靠建立和关闭，保证数据的可靠传输。


